<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="VarsityMetrics.PlaybookPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource BackgroundLight}, Dark={StaticResource BackgroundDark}}">
    <ContentPage.Resources>
        <ResourceDictionary>
            <DataTemplate x:Key="PlayTemplate">
                <ViewCell>
                    <VerticalStackLayout WidthRequest="550"
                                         Padding="10">

                        <Label Grid.Column="1"
                               Grid.Row="0"
                               Text="{Binding PlayName}"
                               Style="{StaticResource SubHeadline}" HorizontalOptions="Start"/>

                        <Image Grid.Column="0"
                               Source="{Binding ImageSource}"
                               MaximumHeightRequest="500"
                               WidthRequest="500"/>

                    </VerticalStackLayout>
                </ViewCell>

            </DataTemplate>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid ColumnDefinitions="300,*"
          RowSpacing="0"
          ColumnSpacing="10"
          Margin="10">

        <!-- Sidebar -->
        <Border Style="{StaticResource SurfaceBorder}" Margin="0"
                Grid.Column="0"
                HeightRequest="150" VerticalOptions="Start">
            <Grid RowDefinitions="auto,auto" ColumnDefinitions="*,*"
                  ColumnSpacing="5" RowSpacing="5">

                <Picker Grid.Row="0" Grid.Column="0"
                        x:Name="OrderPicker"
                        Title="Select the order"
                        SelectedIndexChanged="OrderPicker_SelectedIndexChanged">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Default</x:String>
                            <x:String>Name</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>

                <Picker Grid.Row="0" Grid.Column="1"
                        x:Name="TypePicker"
                        Title="Select a play type"
                        SelectedIndexChanged="TypePicker_SelectedIndexChanged">
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>All</x:String>
                            <x:String>Offense</x:String>
                            <x:String>Defense</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>

                <Button Grid.Row="1" Grid.Column="0"
                        x:Name="DrawButton"
                        Text="Draw"
                        Clicked="DrawButton_Clicked"/>

                <Button Grid.Row="1" Grid.Column="1"
                        x:Name="AddButton"
                        Text="Add"
                        Clicked="AddButton_Clicked"/>

            </Grid>
        </Border>

        <!-- Main Page -->
        <Border Style="{StaticResource SurfaceBorder}" Margin="0"
                Grid.Column="1">
            <VerticalStackLayout>
            <Label Text="Playbook"
                           Style="{StaticResource Headline}"/>
            
                <ScrollView>
                    <VerticalStackLayout>

                        <!-- Offense -->
                        <ListView x:Name="OffenseList"
                                  SelectionMode="Single"
                                  ItemSelected="OffenseList_ItemSelected"
                                  ItemTemplate="{StaticResource Key=PlayTemplate}">
                            <ListView.Header>
                                <Label Text="Offense"
                                       x:Name="Offense"
                                       Style="{StaticResource SubHeadline}"/>
                            </ListView.Header>
                        </ListView>

                        <!-- Defense -->
                        <ListView x:Name="DefenseList"
                                  SelectionMode="Single"
                                  ItemSelected="DefenseList_ItemSelected"
                                  ItemTemplate="{StaticResource Key=PlayTemplate}">
                            <ListView.Header>
                                <Label Text="Defense"
                                       x:Name="Defense"
                                       Style="{StaticResource SubHeadline}"/>
                            </ListView.Header>
                        </ListView>

                    </VerticalStackLayout>
                </ScrollView>
            </VerticalStackLayout>
        </Border>
    </Grid>

</ContentPage>